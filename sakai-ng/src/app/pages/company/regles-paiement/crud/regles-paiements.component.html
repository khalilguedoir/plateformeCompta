<p-toolbar styleClass="mb-4">
  <ng-template #start>
    <p-button label="New" icon="pi pi-plus" (onClick)="openNew()" class="mr-2" />
    <p-button label="Delete" icon="pi pi-trash" (onClick)="deleteSelectedRegles()" [disabled]="!selectedRegles || !selectedRegles.length" />
  </ng-template>
</p-toolbar>

<p-table
  [value]="regles"
  [(selection)]="selectedRegles"
  dataKey="id"
  [paginator]="true"
  [rows]="10"
  [rowHover]="true"
>
  <ng-template pTemplate="header">
    <tr>
      <th><p-tableHeaderCheckbox /></th>
      <th>Montant</th>
      <th>Date</th>
      <th>Type</th>
      <th>Status</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-r>
    <tr>
      <td><p-tableCheckbox [value]="r" /></td>
      <td>{{ r.montant }}</td>
      <td>{{ r.date | date:'shortDate' }}</td>
      <td>{{ r.type }}</td>
      <td>{{ r.status }}</td>
      
    </tr>
  </ng-template>
</p-table>

<!-- DIALOG -->
<p-dialog [(visible)]="regleDialog" header="Détails Règlement" [modal]="true" [style]="{ width: '500px' }">
  <div class="flex flex-col gap-3">
    <div>
      <label>Montant</label>
      <input type="number" pInputText [(ngModel)]="regle.montant" />
    </div>
    <div>
      <label>Date</label>
      <input type="date" [(ngModel)]="regle.date" />
    </div>
    <div>
      <label>Type</label>
      <input type="text" pInputText [(ngModel)]="regle.type" />
    </div>
    <div>
      <label>Status</label>
      <input type="text" pInputText [(ngModel)]="regle.status" />
    </div>
  </div>

  <ng-template #footer>
    <p-button label="Cancel" icon="pi pi-times" text (click)="hideDialog()"></p-button>
    <p-button label="Save" icon="pi pi-check" (click)="saveRegle()"></p-button>
  </ng-template>
</p-dialog>

<p-toast></p-toast>
